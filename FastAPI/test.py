from FastAPI.DBConn.PGConn.PGConnectionNew import *
from FastAPI.API.ExternalAPI.api import *
from FastAPI.Modules.run import *



#  ********************************************  PGconnection Methods ********************************************
# get_all_trades() 
# initialize_high_low("383", TimeFrame.ONE_MONTH, consider_all=True)
# get_trendLines("2885", TimeFrame.FIFTEEN_MINUTE)
# initialize_trendline("2885", TimeFrame.FIFTEEN_MINUTE,"hl")
# fetch_current_trendlines("2885", TimeFrame.FIFTEEN_MINUTE)
# fetch_highs("2885", TimeFrame.FIFTEEN_MINUTE)
# fetch_lows("2885", TimeFrame.FIFTEEN_MINUTE)
# fetch_candles("445", TimeFrame.ONE_HOUR,10,100, datetime.now())
# get_latest_index("2885", TimeFrame.FIFTEEN_MINUTE)
# get_latest_date("2885", TimeFrame.FIFTEEN_MINUTE)
# get_latest_highlow_index("2885", TimeFrame.FIFTEEN_MINUTE)
# create_trendline_data_table()
# get_initial_TrendlineTable_row("2885", TimeFrame.FIFTEEN_MINUTE,"h")
# initialize_trendline_data_table()
# increment_index(TimeFrame.FIFTEEN_MINUTE)
# initialize_stocks_details_table()
# sample()

#  ********************************************  API Methods ********************************************

# api = AngelOneAPI()
# response = api.fetch_15min_data_at_market_close("2885")
# response = api.fetch_1d_data_at_market_close("2885")
# response = api.fetch_all_15min_data_for_stock("2885")
# response = api.fetch_all_1d_data_for_stock("2885")

# run = Run(api=api)
# run.run_daily_fifteentf_data_fetcher_at_market_close()
# run.run_dailytf_data_fetcher_at_market_close()


















